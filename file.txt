CREATE TABLE users (id SERIAL PRIMARY KEY NOT NULL, username TEXT NOT NULL, hash TEXT NOT NULL, cash NUMERIC NOT NULL DEFAULT 10000.00 );
CREATE TABLE purchases ( id SERIAL PRIMARY KEY NOT NULL, userid INTEGER NOT NULL, symbol TEXT NOT NULL, shares INTEGER NOT NULL, FOREIGN KEY(userid) REFERENCES users(id) );
CREATE TABLE history ( id SERIAL PRIMARY KEY NOT NULL, userid INTEGER NOT NULL, symbol TEXT NOT NULL, shares INTEGER NOT NULL, price REAL NOT NULL, time TIMESTAMP DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY(userid) REFERENCES users(id) );
CREATE UNIQUE INDEX username ON users (username);